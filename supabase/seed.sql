-- Family Budget Dashboard - Seed Data
-- This script populates the database with sample data for Tony and Tatsiana

-- ============================================================================
-- CLEAR EXISTING DATA (for development only)
-- ============================================================================
TRUNCATE TABLE
  transactions,
  personal_allowances,
  contributions,
  child_expenses,
  children,
  sinking_funds,
  gift_recipients,
  travel_plans,
  budget_categories,
  bills,
  savings_goals,
  income_sources,
  pockets,
  persons,
  households
CASCADE;

-- ============================================================================
-- HOUSEHOLD
-- ============================================================================
INSERT INTO households (id, name) VALUES
  ('00000000-0000-0000-0000-000000000001', 'Tony & Tatsiana''s Family');

-- ============================================================================
-- PERSONS
-- ============================================================================
INSERT INTO persons (id, household_id, name, initials, color, avatar) VALUES
  ('00000000-0000-0000-0000-000000000010', '00000000-0000-0000-0000-000000000001', 'Tony', 'TN', '#3b82f6', 'üë®'),
  ('00000000-0000-0000-0000-000000000011', '00000000-0000-0000-0000-000000000001', 'Tatsiana', 'TS', '#ec4899', 'üë©');

-- ============================================================================
-- INCOME SOURCES
-- ============================================================================
INSERT INTO income_sources (person_id, name, amount, frequency, is_active) VALUES
  -- Tony's income
  ('00000000-0000-0000-0000-000000000010', 'Software Engineer Salary', 8500.00, 'monthly', true),
  ('00000000-0000-0000-0000-000000000010', 'Freelance Projects', 1200.00, 'variable', true),

  -- Tatsiana's income
  ('00000000-0000-0000-0000-000000000011', 'Product Manager Salary', 7800.00, 'monthly', true),
  ('00000000-0000-0000-0000-000000000011', 'Consulting', 800.00, 'variable', true);

-- ============================================================================
-- POCKETS (Revolut-style organization)
-- ============================================================================
INSERT INTO pockets (id, household_id, name, icon, type, owner_id, current_balance, monthly_allocation, color) VALUES
  ('00000000-0000-0000-0000-000000000020', '00000000-0000-0000-0000-000000000001', 'Bills', 'üìù', 'bills', NULL, 3200.00, 3500.00, '#ef4444'),
  ('00000000-0000-0000-0000-000000000021', '00000000-0000-0000-0000-000000000001', 'Groceries', 'üõí', 'groceries', NULL, 450.00, 800.00, '#22c55e'),
  ('00000000-0000-0000-0000-000000000022', '00000000-0000-0000-0000-000000000001', 'Emergency Fund', 'üö®', 'emergency', NULL, 15000.00, 500.00, '#f59e0b'),
  ('00000000-0000-0000-0000-000000000023', '00000000-0000-0000-0000-000000000001', 'Vacation', '‚úàÔ∏è', 'vacation', NULL, 4200.00, 600.00, '#06b6d4'),
  ('00000000-0000-0000-0000-000000000024', '00000000-0000-0000-0000-000000000001', 'Investment', 'üìà', 'investment', NULL, 8500.00, 1000.00, '#8b5cf6'),
  ('00000000-0000-0000-0000-000000000025', '00000000-0000-0000-0000-000000000001', 'Home Repairs', 'üè†', 'sinking', NULL, 2100.00, 300.00, '#84cc16');

-- ============================================================================
-- TRANSACTIONS (Last 3 months of sample data)
-- ============================================================================
INSERT INTO transactions (pocket_id, person_id, amount, description, category, transaction_date) VALUES
  -- December 2025 transactions
  ('00000000-0000-0000-0000-000000000020', '00000000-0000-0000-0000-000000000010', -1200.00, 'Rent payment', 'Housing', '2025-12-01'),
  ('00000000-0000-0000-0000-000000000020', '00000000-0000-0000-0000-000000000011', -150.00, 'Electric bill', 'Utilities', '2025-12-05'),
  ('00000000-0000-0000-0000-000000000020', '00000000-0000-0000-0000-000000000010', -80.00, 'Internet', 'Utilities', '2025-12-10'),
  ('00000000-0000-0000-0000-000000000021', '00000000-0000-0000-0000-000000000011', -120.00, 'Weekly groceries', 'Food', '2025-12-08'),
  ('00000000-0000-0000-0000-000000000021', '00000000-0000-0000-0000-000000000010', -95.00, 'Weekly groceries', 'Food', '2025-12-15'),
  ('00000000-0000-0000-0000-000000000023', '00000000-0000-0000-0000-000000000011', 600.00, 'Monthly vacation fund', 'Savings', '2025-12-01'),
  ('00000000-0000-0000-0000-000000000024', '00000000-0000-0000-0000-000000000010', 1000.00, 'Monthly investment', 'Investment', '2025-12-01'),

  -- November 2025 transactions
  ('00000000-0000-0000-0000-000000000020', '00000000-0000-0000-0000-000000000010', -1200.00, 'Rent payment', 'Housing', '2025-11-01'),
  ('00000000-0000-0000-0000-000000000020', '00000000-0000-0000-0000-000000000011', -145.00, 'Electric bill', 'Utilities', '2025-11-05'),
  ('00000000-0000-0000-0000-000000000021', '00000000-0000-0000-0000-000000000011', -130.00, 'Weekly groceries', 'Food', '2025-11-10'),
  ('00000000-0000-0000-0000-000000000021', '00000000-0000-0000-0000-000000000010', -110.00, 'Weekly groceries', 'Food', '2025-11-17'),
  ('00000000-0000-0000-0000-000000000022', '00000000-0000-0000-0000-000000000010', 500.00, 'Emergency fund contribution', 'Savings', '2025-11-01'),

  -- October 2025 transactions
  ('00000000-0000-0000-0000-000000000020', '00000000-0000-0000-0000-000000000010', -1200.00, 'Rent payment', 'Housing', '2025-10-01'),
  ('00000000-0000-0000-0000-000000000020', '00000000-0000-0000-0000-000000000011', -160.00, 'Electric bill', 'Utilities', '2025-10-05'),
  ('00000000-0000-0000-0000-000000000021', '00000000-0000-0000-0000-000000000011', -125.00, 'Weekly groceries', 'Food', '2025-10-12'),
  ('00000000-0000-0000-0000-000000000025', '00000000-0000-0000-0000-000000000010', 300.00, 'Home repairs fund', 'Savings', '2025-10-01');

-- ============================================================================
-- CONTRIBUTIONS (Monthly household contributions)
-- ============================================================================
INSERT INTO contributions (household_id, person_id, amount, month) VALUES
  -- December 2025
  ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000010', 5100.00, '2025-12-01'),
  ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000011', 4320.00, '2025-12-01'),

  -- November 2025
  ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000010', 5100.00, '2025-11-01'),
  ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000011', 4320.00, '2025-11-01'),

  -- October 2025
  ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000010', 5100.00, '2025-10-01'),
  ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000011', 4320.00, '2025-10-01');

-- ============================================================================
-- PERSONAL ALLOWANCES
-- ============================================================================
INSERT INTO personal_allowances (person_id, monthly_amount, current_month_spent, rollover_balance, month) VALUES
  -- December 2025
  ('00000000-0000-0000-0000-000000000010', 500.00, 180.00, 50.00, '2025-12-01'),
  ('00000000-0000-0000-0000-000000000011', 450.00, 220.00, -30.00, '2025-12-01'),

  -- November 2025
  ('00000000-0000-0000-0000-000000000010', 500.00, 430.00, 20.00, '2025-11-01'),
  ('00000000-0000-0000-0000-000000000011', 450.00, 465.00, 15.00, '2025-11-01'),

  -- October 2025
  ('00000000-0000-0000-0000-000000000010', 500.00, 480.00, 0.00, '2025-10-01'),
  ('00000000-0000-0000-0000-000000000011', 450.00, 450.00, 0.00, '2025-10-01');

-- ============================================================================
-- SAVINGS GOALS
-- ============================================================================
INSERT INTO savings_goals (household_id, pocket_id, name, target_amount, current_amount, target_date) VALUES
  ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000022', 'Emergency Fund (6 months)', 25000.00, 15000.00, '2026-06-01'),
  ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000023', 'Summer Vacation 2026', 8000.00, 4200.00, '2026-07-01'),
  ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000025', 'Kitchen Renovation', 15000.00, 2100.00, '2026-09-01'),
  ('00000000-0000-0000-0000-000000000001', NULL, 'Down Payment', 80000.00, 32000.00, '2027-12-01'),
  ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000024', 'Investment Portfolio', 50000.00, 8500.00, NULL);

-- ============================================================================
-- BUDGET CATEGORIES (December 2025)
-- ============================================================================
INSERT INTO budget_categories (household_id, name, budgeted, spent, icon, color, person_id, month) VALUES
  -- Shared categories
  ('00000000-0000-0000-0000-000000000001', 'Housing', 1200.00, 1200.00, 'üè†', '#3b82f6', NULL, '2025-12-01'),
  ('00000000-0000-0000-0000-000000000001', 'Utilities', 300.00, 230.00, 'üí°', '#facc15', NULL, '2025-12-01'),
  ('00000000-0000-0000-0000-000000000001', 'Groceries', 800.00, 350.00, 'üõí', '#22c55e', NULL, '2025-12-01'),
  ('00000000-0000-0000-0000-000000000001', 'Transportation', 400.00, 280.00, 'üöó', '#06b6d4', NULL, '2025-12-01'),
  ('00000000-0000-0000-0000-000000000001', 'Healthcare', 200.00, 150.00, 'üè•', '#ef4444', NULL, '2025-12-01'),
  ('00000000-0000-0000-0000-000000000001', 'Entertainment', 300.00, 185.00, 'üé¨', '#a855f7', NULL, '2025-12-01'),

  -- Tony's personal categories
  ('00000000-0000-0000-0000-000000000001', 'Tech & Gadgets', 200.00, 150.00, 'üíª', '#0ea5e9', '00000000-0000-0000-0000-000000000010', '2025-12-01'),
  ('00000000-0000-0000-0000-000000000001', 'Hobbies', 150.00, 80.00, 'üéÆ', '#6366f1', '00000000-0000-0000-0000-000000000010', '2025-12-01'),

  -- Tatsiana's personal categories
  ('00000000-0000-0000-0000-000000000001', 'Beauty & Wellness', 180.00, 120.00, 'üíÖ', '#ec4899', '00000000-0000-0000-0000-000000000011', '2025-12-01'),
  ('00000000-0000-0000-0000-000000000001', 'Books & Education', 100.00, 65.00, 'üìö', '#f97316', '00000000-0000-0000-0000-000000000011', '2025-12-01');

-- ============================================================================
-- BILLS
-- ============================================================================
INSERT INTO bills (household_id, name, amount, due_date, frequency, is_autopay, category, is_paid) VALUES
  ('00000000-0000-0000-0000-000000000001', 'Rent', 1200.00, '2025-12-01', 'monthly', true, 'Housing', true),
  ('00000000-0000-0000-0000-000000000001', 'Electric Bill', 150.00, '2025-12-05', 'monthly', true, 'Utilities', true),
  ('00000000-0000-0000-0000-000000000001', 'Internet', 80.00, '2025-12-10', 'monthly', true, 'Utilities', true),
  ('00000000-0000-0000-0000-000000000001', 'Phone Plan', 120.00, '2025-12-15', 'monthly', true, 'Utilities', false),
  ('00000000-0000-0000-0000-000000000001', 'Streaming Services', 45.00, '2025-12-20', 'monthly', true, 'Entertainment', false),
  ('00000000-0000-0000-0000-000000000001', 'Car Insurance', 180.00, '2026-01-01', 'monthly', false, 'Transportation', false),
  ('00000000-0000-0000-0000-000000000001', 'Gym Membership', 60.00, '2025-12-25', 'monthly', true, 'Healthcare', false);

-- ============================================================================
-- CHILDREN
-- ============================================================================
INSERT INTO children (id, household_id, name, age, avatar, color) VALUES
  ('00000000-0000-0000-0000-000000000030', '00000000-0000-0000-0000-000000000001', 'Sofia', 5, 'üëß', '#f472b6');

-- ============================================================================
-- CHILD EXPENSES (December 2025)
-- ============================================================================
INSERT INTO child_expenses (child_id, category, budgeted, spent, month) VALUES
  ('00000000-0000-0000-0000-000000000030', 'education', 300.00, 250.00, '2025-12-01'),
  ('00000000-0000-0000-0000-000000000030', 'activities', 150.00, 120.00, '2025-12-01'),
  ('00000000-0000-0000-0000-000000000030', 'clothing', 100.00, 85.00, '2025-12-01'),
  ('00000000-0000-0000-0000-000000000030', 'healthcare', 80.00, 60.00, '2025-12-01'),
  ('00000000-0000-0000-0000-000000000030', 'toys', 50.00, 45.00, '2025-12-01'),
  ('00000000-0000-0000-0000-000000000030', 'food', 200.00, 180.00, '2025-12-01'),
  ('00000000-0000-0000-0000-000000000030', 'other', 50.00, 30.00, '2025-12-01');

-- ============================================================================
-- SINKING FUNDS
-- ============================================================================
INSERT INTO sinking_funds (household_id, name, category, target_amount, current_amount, due_date, monthly_contribution) VALUES
  ('00000000-0000-0000-0000-000000000001', 'Car Insurance Annual', 'car', 2160.00, 1800.00, '2026-01-01', 180.00),
  ('00000000-0000-0000-0000-000000000001', 'Home Insurance', 'insurance', 1200.00, 800.00, '2026-03-01', 100.00),
  ('00000000-0000-0000-0000-000000000001', 'Annual Physical', 'medical', 400.00, 150.00, '2026-04-15', 35.00),
  ('00000000-0000-0000-0000-000000000001', 'Car Maintenance', 'car', 1500.00, 600.00, '2026-05-01', 125.00),
  ('00000000-0000-0000-0000-000000000001', 'Christmas Gifts', 'holiday', 1000.00, 200.00, '2025-12-15', 85.00),
  ('00000000-0000-0000-0000-000000000001', 'Property Tax', 'home', 3000.00, 1200.00, '2026-06-01', 250.00);

-- ============================================================================
-- GIFT RECIPIENTS
-- ============================================================================
INSERT INTO gift_recipients (household_id, name, relationship, occasion, occasion_date, budgeted, spent) VALUES
  ('00000000-0000-0000-0000-000000000001', 'Mom (Tony)', 'family', 'Birthday', '2026-02-14', 150.00, 0.00),
  ('00000000-0000-0000-0000-000000000001', 'Dad (Tony)', 'family', 'Birthday', '2026-03-20', 150.00, 0.00),
  ('00000000-0000-0000-0000-000000000001', 'Mom (Tatsiana)', 'family', 'Birthday', '2026-04-10', 150.00, 0.00),
  ('00000000-0000-0000-0000-000000000001', 'Dad (Tatsiana)', 'family', 'Birthday', '2026-05-05', 150.00, 0.00),
  ('00000000-0000-0000-0000-000000000001', 'Sofia', 'family', 'Birthday', '2026-07-15', 200.00, 0.00),
  ('00000000-0000-0000-0000-000000000001', 'Best Friend', 'friend', 'Wedding', '2026-09-12', 300.00, 0.00),
  ('00000000-0000-0000-0000-000000000001', 'Christmas Family', 'family', 'Christmas', '2025-12-25', 500.00, 120.00);

-- ============================================================================
-- TRAVEL PLANS
-- ============================================================================
INSERT INTO travel_plans (household_id, destination, start_date, end_date, flights_budgeted, flights_spent, accommodation_budgeted, accommodation_spent, food_budgeted, food_spent, activities_budgeted, activities_spent, transport_budgeted, transport_spent) VALUES
  ('00000000-0000-0000-0000-000000000001', 'Barcelona, Spain', '2026-07-10', '2026-07-20', 1200.00, 950.00, 1800.00, 0.00, 800.00, 0.00, 600.00, 0.00, 200.00, 0.00),
  ('00000000-0000-0000-0000-000000000001', 'Beach Weekend', '2026-04-15', '2026-04-17', 400.00, 0.00, 500.00, 0.00, 300.00, 0.00, 200.00, 0.00, 100.00, 0.00);
